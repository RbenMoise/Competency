{"ast":null,"code":"var _jsxFileName = \"/Volumes/Rben/Repos/Spider_chart/frontend/src/components/Modern/ModernSpiderChart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport axios from \"axios\";\nimport SupervisorSpiderChart from \"./SupervisorSpiderChart\"; // Fixed import\nimport SpiderChart from \"./Charts\";\nimport Guidelines from \"../Guidelines/Guidelines\";\nimport { Link } from \"react-router-dom\";\nimport LOGO from \"./logo.png\";\nimport ScoreFormManager from \"./ScoreFormManager.jsx\";\nimport \"./Modern.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst categories = [\"Geology\", \"Geophysics\", \"Geochemistry\", \"Petroleum Engineering\", \"Project Management\", \"Renewable Energy\", \"Field Work\", \"Reporting\"];\nexport default function ModernSpiderChart() {\n  _s();\n  const [showPopup, setShowPopup] = useState(false);\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const [isLoadingChart, setIsLoadingChart] = useState(false);\n  const [showForm, setShowForm] = useState(true);\n  const [dbScores, setDbScores] = useState(null);\n  const [user, setUser] = useState(null);\n  const [showSubmissionMessage, setShowSubmissionMessage] = useState(false);\n  const [submissionMessage, setSubmissionMessage] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [viewMode, setViewMode] = useState(\"chart\"); // Added for toggle\n  const [committed, setCommitted] = useState(false); // Added for commit toggle\n  const dropdownRef = useRef(null);\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        const res = await axios.get(\"http://localhost:4000/api/auth/me\", {\n          withCredentials: true\n        });\n        const userData = res.data.user;\n        setUser(userData);\n        const hasScores = userData.submissions && userData.submissions.length > 0 && userData.submissions[0].current && userData.submissions[0].projected;\n        if (hasScores) {\n          const submission = userData.submissions[0];\n          const dbCurrentScores = Object.fromEntries(categories.map(cat => [cat, submission.current[cat] || 0]));\n          const dbProjectedScores = Object.fromEntries(categories.map(cat => [cat, submission.projected[cat] || 0]));\n          const dbSupervisorScores = submission.supervisorAssessment ? Object.fromEntries(categories.map(cat => [cat, submission.supervisorAssessment[cat] || 0])) : null;\n          setDbScores({\n            currentScores: dbCurrentScores,\n            projectedScores: dbProjectedScores,\n            supervisorScores: dbSupervisorScores,\n            status: submission.status || \"Pending\",\n            comments: submission.approvalComments || \"\",\n            approvedBy: submission.approvedBy || \"\",\n            approvedAt: submission.approvedAt || null,\n            committed: submission.committed || false\n          });\n          setCommitted(submission.committed || false);\n          setShowForm(false);\n          setSubmissionMessage(submission.supervisorAssessment ? \"🎉 Your supervisor has reviewed your assessment! Click 'View My Way!' to see the results.\" : \"This Spider Chart displays your previously submitted competency scores from the database.\");\n          setShowSubmissionMessage(true);\n        }\n      } catch (err) {\n        var _err$response, _err$response$data, _err$response2;\n        setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Failed to load user data.\");\n        if (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 401) {\n          window.location.href = \"/login\";\n        }\n      }\n    };\n    fetchUserData();\n    const handleClickOutside = event => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsDropdownOpen(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n  const toggleDropdown = () => {\n    setIsDropdownOpen(!isDropdownOpen);\n    const handleSubmission = newScores => {\n      setShowSubmissionMessage(true);\n      setSubmissionMessage(\"✅ Scores submitted successfully!\");\n      setDbScores({\n        currentScores: newScores.currentScores,\n        projectedScores: newScores.projectedScores\n      });\n      setIsLoadingChart(true);\n      setTimeout(() => {\n        setIsLoadingChart(false);\n        setShowForm(false); // Switch to chart view\n      }, 5500);\n    };\n    const toggleViewMode = () => {\n      const newMode = viewMode === \"chart\" ? \"supervisor\" : \"chart\";\n      setViewMode(newMode);\n      if (newMode === \"supervisor\" && !(dbScores !== null && dbScores !== void 0 && dbScores.supervisorScores)) {\n        setSubmissionMessage(\"⏳ Your assessment is still under review by your supervisor.\");\n      } else if (newMode === \"supervisor\") {\n        setSubmissionMessage(\"🎉 Supervisor’s assessment available!\");\n      } else {\n        setSubmissionMessage(\"📊 Viewing your submitted scores.\");\n      }\n      setShowSubmissionMessage(true);\n    };\n    const handleCommitToggle = async () => {\n      try {\n        const submissionId = user.submissions[0]._id;\n        const newCommitted = !committed;\n        await axios.post(`http://localhost:4000/scores/${submissionId}/commit`, {\n          committed: newCommitted\n        }, {\n          withCredentials: true\n        });\n        setCommitted(newCommitted);\n        setSubmissionMessage(newCommitted ? \"✅ You’re on your way! Your supervisor has been notified.\" : \"You’ve uncommitted from the feedback.\");\n        setShowSubmissionMessage(true);\n      } catch (err) {\n        console.error(\"Commit Error:\", err);\n        setSubmissionMessage(\"❌ Failed to update commitment status.\");\n        setShowSubmissionMessage(true);\n      }\n    };\n    const handleLogout = async () => {\n      try {\n        await axios.post(\"http://localhost:4000/api/auth/logout\", {}, {\n          withCredentials: true\n        });\n        window.location.href = \"/login\";\n      } catch (err) {\n        console.error(\"Logout failed:\", err);\n      }\n    };\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 14\n      }, this);\n    }\n    if (!user) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner-sector spinner-sector-primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner-sector spinner-sector-secondary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner-sector spinner-sector-tertiary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: LOGO,\n            alt: \"NOCK Logo\",\n            className: \"loading-logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"loading-text\",\n            children: \"Loading Your Data...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"loading-subtext\",\n            children: \"Please wait while we prepare\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this);\n    }\n    const nameParts = user.name.split(\" \");\n    const initials = nameParts.length >= 2 ? `${nameParts[0][0]}${nameParts[nameParts.length - 1][0]}` : nameParts[0][0];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modern-chart-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"modern-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modern-logo\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logo-placeholder\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"logo-icon\",\n              src: LOGO,\n              alt: \"logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"logo-text\",\n              children: \"Energizing Kenya\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modern-profile\",\n          ref: dropdownRef,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-container\",\n            onClick: toggleDropdown,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-avatar\",\n              children: initials\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: user.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: user.occupation\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `dropdown-arrow ${isDropdownOpen ? \"open\" : \"\"}`,\n              children: \"\\u25BC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `dropdown-menu ${isDropdownOpen ? \"open\" : \"\"}`,\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              className: \"dropdown-item\",\n              children: \"View Assessment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dropdown-divider\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/logout\",\n              onClick: handleLogout,\n              className: \"dropdown-item logout\",\n              children: \"Log Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modern-title-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"modern-title\",\n          children: \"Upstream Competency Mapping\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title-decoration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modern-guidelines-button\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowPopup(true),\n          className: \"modern-button guidelines-btn\",\n          children: [\"Open Competency Guidelines \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"button-icon\",\n            children: \"\\uD83D\\uDCCA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 40\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), showPopup && /*#__PURE__*/_jsxDEV(Guidelines, {\n          onClose: () => setShowPopup(false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: [showSubmissionMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `submission-notification ${!showSubmissionMessage ? \"hide\" : \"\"}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"notification-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: submissionMessage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"close-notification\",\n                onClick: () => setShowSubmissionMessage(false),\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this), isLoadingChart ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-loading-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-loading-spinner\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"spinner-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-loading-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"chart-loading-text\",\n                children: \"Generating Your Chart...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"chart-loading-subtext\",\n                children: \"Please wait a moment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this) : showForm ? /*#__PURE__*/_jsxDEV(ScoreFormManager, {\n            categories: categories,\n            onScoresChange: handleSubmission,\n            initialScores: dbScores\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"view-toggle\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: `modern-button toggle-btn ${viewMode === \"chart\" ? \"active\" : \"\"}`,\n                onClick: toggleViewMode,\n                children: \"My Scores\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `modern-button toggle-btn ${viewMode === \"supervisor\" ? \"active\" : \"\"}`,\n                onClick: toggleViewMode,\n                children: [\"View My Way! \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"button-icon\",\n                  children: \"\\uD83D\\uDE80\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 34\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this), viewMode === \"supervisor\" && dbScores !== null && dbScores !== void 0 && dbScores.supervisorScores ? /*#__PURE__*/_jsxDEV(SupervisorSpiderChart, {\n              categories: categories,\n              currentScores: dbScores.currentScores,\n              projectedScores: dbScores.projectedScores,\n              supervisorScores: dbScores.supervisorScores,\n              status: dbScores.status,\n              approvalComments: dbScores.comments,\n              approvedBy: dbScores.approvedBy,\n              approvedAt: dbScores.approvedAt,\n              committed: committed,\n              onCommitToggle: handleCommitToggle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 19\n            }, this) : viewMode === \"supervisor\" ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"no-review-message\",\n              children: \"\\u23F3 Your assessment is still under review by your supervisor.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 19\n            }, this) : dbScores ? /*#__PURE__*/_jsxDEV(SpiderChart, {\n              currentScores: dbScores.currentScores,\n              projectedScores: dbScores.projectedScores,\n              categories: categories\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No scores available to display.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this);\n  };\n}\n_s(ModernSpiderChart, \"GfXVVGv+Yawsz6ocVuiubKsSbHw=\");\n_c = ModernSpiderChart;\nvar _c;\n$RefreshReg$(_c, \"ModernSpiderChart\");","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","SupervisorSpiderChart","SpiderChart","Guidelines","Link","LOGO","ScoreFormManager","jsxDEV","_jsxDEV","categories","ModernSpiderChart","_s","showPopup","setShowPopup","isDropdownOpen","setIsDropdownOpen","isLoadingChart","setIsLoadingChart","showForm","setShowForm","dbScores","setDbScores","user","setUser","showSubmissionMessage","setShowSubmissionMessage","submissionMessage","setSubmissionMessage","error","setError","viewMode","setViewMode","committed","setCommitted","dropdownRef","fetchUserData","res","get","withCredentials","userData","data","hasScores","submissions","length","current","projected","submission","dbCurrentScores","Object","fromEntries","map","cat","dbProjectedScores","dbSupervisorScores","supervisorAssessment","currentScores","projectedScores","supervisorScores","status","comments","approvalComments","approvedBy","approvedAt","err","_err$response","_err$response$data","_err$response2","response","message","window","location","href","handleClickOutside","event","contains","target","document","addEventListener","removeEventListener","toggleDropdown","handleSubmission","newScores","setTimeout","toggleViewMode","newMode","handleCommitToggle","submissionId","_id","newCommitted","post","console","handleLogout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","nameParts","name","split","initials","ref","onClick","occupation","to","onClose","onScoresChange","initialScores","onCommitToggle","_c","$RefreshReg$"],"sources":["/Volumes/Rben/Repos/Spider_chart/frontend/src/components/Modern/ModernSpiderChart.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport axios from \"axios\";\nimport SupervisorSpiderChart from \"./SupervisorSpiderChart\"; // Fixed import\nimport SpiderChart from \"./Charts\";\nimport Guidelines from \"../Guidelines/Guidelines\";\nimport { Link } from \"react-router-dom\";\nimport LOGO from \"./logo.png\";\nimport ScoreFormManager from \"./ScoreFormManager.jsx\";\nimport \"./Modern.css\";\n\nconst categories = [\n  \"Geology\",\n  \"Geophysics\",\n  \"Geochemistry\",\n  \"Petroleum Engineering\",\n  \"Project Management\",\n  \"Renewable Energy\",\n  \"Field Work\",\n  \"Reporting\",\n];\n\nexport default function ModernSpiderChart() {\n  const [showPopup, setShowPopup] = useState(false);\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const [isLoadingChart, setIsLoadingChart] = useState(false);\n  const [showForm, setShowForm] = useState(true);\n  const [dbScores, setDbScores] = useState(null);\n  const [user, setUser] = useState(null);\n  const [showSubmissionMessage, setShowSubmissionMessage] = useState(false);\n  const [submissionMessage, setSubmissionMessage] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [viewMode, setViewMode] = useState(\"chart\"); // Added for toggle\n  const [committed, setCommitted] = useState(false); // Added for commit toggle\n  const dropdownRef = useRef(null);\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        const res = await axios.get(\"http://localhost:4000/api/auth/me\", {\n          withCredentials: true,\n        });\n        const userData = res.data.user;\n        setUser(userData);\n\n        const hasScores =\n          userData.submissions &&\n          userData.submissions.length > 0 &&\n          userData.submissions[0].current &&\n          userData.submissions[0].projected;\n\n        if (hasScores) {\n          const submission = userData.submissions[0];\n          const dbCurrentScores = Object.fromEntries(\n            categories.map((cat) => [cat, submission.current[cat] || 0])\n          );\n          const dbProjectedScores = Object.fromEntries(\n            categories.map((cat) => [cat, submission.projected[cat] || 0])\n          );\n          const dbSupervisorScores = submission.supervisorAssessment\n            ? Object.fromEntries(\n                categories.map((cat) => [\n                  cat,\n                  submission.supervisorAssessment[cat] || 0,\n                ])\n              )\n            : null;\n\n          setDbScores({\n            currentScores: dbCurrentScores,\n            projectedScores: dbProjectedScores,\n            supervisorScores: dbSupervisorScores,\n            status: submission.status || \"Pending\",\n            comments: submission.approvalComments || \"\",\n            approvedBy: submission.approvedBy || \"\",\n            approvedAt: submission.approvedAt || null,\n            committed: submission.committed || false,\n          });\n          setCommitted(submission.committed || false);\n          setShowForm(false);\n          setSubmissionMessage(\n            submission.supervisorAssessment\n              ? \"🎉 Your supervisor has reviewed your assessment! Click 'View My Way!' to see the results.\"\n              : \"This Spider Chart displays your previously submitted competency scores from the database.\"\n          );\n          setShowSubmissionMessage(true);\n        }\n      } catch (err) {\n        setError(err.response?.data?.message || \"Failed to load user data.\");\n        if (err.response?.status === 401) {\n          window.location.href = \"/login\";\n        }\n      }\n    };\n\n    fetchUserData();\n\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsDropdownOpen(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  const toggleDropdown = () => {\n    setIsDropdownOpen(!isDropdownOpen);\n    const handleSubmission = (newScores) => {\n      setShowSubmissionMessage(true);\n      setSubmissionMessage(\"✅ Scores submitted successfully!\");\n\n      setDbScores({\n        currentScores: newScores.currentScores,\n        projectedScores: newScores.projectedScores,\n      });\n\n      setIsLoadingChart(true);\n      setTimeout(() => {\n        setIsLoadingChart(false);\n        setShowForm(false); // Switch to chart view\n      }, 5500);\n    };\n\n    const toggleViewMode = () => {\n      const newMode = viewMode === \"chart\" ? \"supervisor\" : \"chart\";\n      setViewMode(newMode);\n      if (newMode === \"supervisor\" && !dbScores?.supervisorScores) {\n        setSubmissionMessage(\n          \"⏳ Your assessment is still under review by your supervisor.\"\n        );\n      } else if (newMode === \"supervisor\") {\n        setSubmissionMessage(\"🎉 Supervisor’s assessment available!\");\n      } else {\n        setSubmissionMessage(\"📊 Viewing your submitted scores.\");\n      }\n      setShowSubmissionMessage(true);\n    };\n\n    const handleCommitToggle = async () => {\n      try {\n        const submissionId = user.submissions[0]._id;\n        const newCommitted = !committed;\n        await axios.post(\n          `http://localhost:4000/scores/${submissionId}/commit`,\n          { committed: newCommitted },\n          { withCredentials: true }\n        );\n        setCommitted(newCommitted);\n        setSubmissionMessage(\n          newCommitted\n            ? \"✅ You’re on your way! Your supervisor has been notified.\"\n            : \"You’ve uncommitted from the feedback.\"\n        );\n        setShowSubmissionMessage(true);\n      } catch (err) {\n        console.error(\"Commit Error:\", err);\n        setSubmissionMessage(\"❌ Failed to update commitment status.\");\n        setShowSubmissionMessage(true);\n      }\n    };\n\n    const handleLogout = async () => {\n      try {\n        await axios.post(\n          \"http://localhost:4000/api/auth/logout\",\n          {},\n          {\n            withCredentials: true,\n          }\n        );\n        window.location.href = \"/login\";\n      } catch (err) {\n        console.error(\"Logout failed:\", err);\n      }\n    };\n\n    if (error) {\n      return <div className=\"error-message\">{error}</div>;\n    }\n\n    if (!user) {\n      return (\n        <div className=\"loading-container\">\n          <div className=\"loading-spinner\">\n            <div className=\"spinner-sector spinner-sector-primary\"></div>\n            <div className=\"spinner-sector spinner-sector-secondary\"></div>\n            <div className=\"spinner-sector spinner-sector-tertiary\"></div>\n          </div>\n          <div className=\"loading-content\">\n            <img src={LOGO} alt=\"NOCK Logo\" className=\"loading-logo\" />\n            <h2 className=\"loading-text\">Loading Your Data...</h2>\n            <p className=\"loading-subtext\">Please wait while we prepare</p>\n          </div>\n        </div>\n      );\n    }\n\n    const nameParts = user.name.split(\" \");\n    const initials =\n      nameParts.length >= 2\n        ? `${nameParts[0][0]}${nameParts[nameParts.length - 1][0]}`\n        : nameParts[0][0];\n\n    return (\n      <div className=\"modern-chart-container\">\n        <header className=\"modern-header\">\n          <div className=\"modern-logo\">\n            <div className=\"logo-placeholder\">\n              <img className=\"logo-icon\" src={LOGO} alt=\"logo\" />\n              <span className=\"logo-text\">Energizing Kenya</span>\n            </div>\n          </div>\n          <div className=\"modern-profile\" ref={dropdownRef}>\n            <div className=\"profile-container\" onClick={toggleDropdown}>\n              <div className=\"profile-avatar\">{initials}</div>\n              <div className=\"profile-info\">\n                <h3>{user.name}</h3>\n                <p>{user.occupation}</p>\n              </div>\n              <div className={`dropdown-arrow ${isDropdownOpen ? \"open\" : \"\"}`}>\n                ▼\n              </div>\n            </div>\n            <div className={`dropdown-menu ${isDropdownOpen ? \"open\" : \"\"}`}>\n              <Link to=\"/\" className=\"dropdown-item\">\n                View Assessment\n              </Link>\n              <div className=\"dropdown-divider\"></div>\n              <Link\n                to=\"/logout\"\n                onClick={handleLogout}\n                className=\"dropdown-item logout\"\n              >\n                Log Out\n              </Link>\n            </div>\n          </div>\n        </header>\n        <div className=\"modern-title-container\">\n          <h2 className=\"modern-title\">Upstream Competency Mapping</h2>\n          <div className=\"title-decoration\"></div>\n        </div>\n        <div className=\"modern-guidelines-button\">\n          <button\n            onClick={() => setShowPopup(true)}\n            className=\"modern-button guidelines-btn\"\n          >\n            Open Competency Guidelines <span className=\"button-icon\">📊</span>\n          </button>\n          {showPopup && <Guidelines onClose={() => setShowPopup(false)} />}\n        </div>\n        <div className=\"content-container\">\n          <div className=\"content\">\n            {showSubmissionMessage && (\n              <div\n                className={`submission-notification ${\n                  !showSubmissionMessage ? \"hide\" : \"\"\n                }`}\n              >\n                <div className=\"notification-content\">\n                  <p>{submissionMessage}</p>\n                  <button\n                    className=\"close-notification\"\n                    onClick={() => setShowSubmissionMessage(false)}\n                  >\n                    ×\n                  </button>\n                </div>\n              </div>\n            )}\n            {isLoadingChart ? (\n              <div className=\"chart-loading-container\">\n                <div className=\"chart-loading-spinner\">\n                  <div className=\"spinner-circle\"></div>\n                </div>\n                <div className=\"chart-loading-content\">\n                  <h3 className=\"chart-loading-text\">\n                    Generating Your Chart...\n                  </h3>\n                  <p className=\"chart-loading-subtext\">Please wait a moment</p>\n                </div>\n              </div>\n            ) : showForm ? (\n              <ScoreFormManager\n                categories={categories}\n                onScoresChange={handleSubmission}\n                initialScores={dbScores}\n              />\n            ) : (\n              <div className=\"chart-wrapper\">\n                <div className=\"view-toggle\">\n                  <button\n                    className={`modern-button toggle-btn ${\n                      viewMode === \"chart\" ? \"active\" : \"\"\n                    }`}\n                    onClick={toggleViewMode}\n                  >\n                    My Scores\n                  </button>\n                  <button\n                    className={`modern-button toggle-btn ${\n                      viewMode === \"supervisor\" ? \"active\" : \"\"\n                    }`}\n                    onClick={toggleViewMode}\n                  >\n                    View My Way! <span className=\"button-icon\">🚀</span>\n                  </button>\n                </div>\n                {viewMode === \"supervisor\" && dbScores?.supervisorScores ? (\n                  <SupervisorSpiderChart\n                    categories={categories}\n                    currentScores={dbScores.currentScores}\n                    projectedScores={dbScores.projectedScores}\n                    supervisorScores={dbScores.supervisorScores}\n                    status={dbScores.status}\n                    approvalComments={dbScores.comments}\n                    approvedBy={dbScores.approvedBy}\n                    approvedAt={dbScores.approvedAt}\n                    committed={committed}\n                    onCommitToggle={handleCommitToggle}\n                  />\n                ) : viewMode === \"supervisor\" ? (\n                  <p className=\"no-review-message\">\n                    ⏳ Your assessment is still under review by your supervisor.\n                  </p>\n                ) : dbScores ? (\n                  <SpiderChart\n                    currentScores={dbScores.currentScores}\n                    projectedScores={dbScores.projectedScores}\n                    categories={categories}\n                  />\n                ) : (\n                  <p>No scores available to display.</p>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}