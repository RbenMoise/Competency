{"ast":null,"code":"var _jsxFileName = \"/Volumes/Rben/Repos/Spider_chart/frontend/src/components/EmployeeAss/EmployeeAssessments.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport \"./SupDash.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EmployeeAssessments() {\n  _s();\n  const {\n    submissionId\n  } = useParams();\n  const navigate = useNavigate();\n  const [submission, setSubmission] = useState(null);\n  const [feedback, setFeedback] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchSubmission = async () => {\n      try {\n        const res = await axios.get(`http://localhost:4000/api/scores/pending`, {\n          withCredentials: true\n        });\n        const foundSubmission = res.data.find(s => s._id === submissionId);\n        if (!foundSubmission) {\n          throw new Error(\"Submission not found\");\n        }\n        setSubmission(foundSubmission);\n      } catch (err) {\n        var _err$response, _err$response$data;\n        setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Failed to load submission\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (submissionId) {\n      fetchSubmission();\n    }\n  }, [submissionId]);\n  const handleReview = async status => {\n    try {\n      await axios.put(`http://localhost:4000/api/scores/${submissionId}/review`, {\n        status,\n        feedback\n      }, {\n        withCredentials: true\n      });\n      navigate(\"/supervisor\");\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || \"Failed to submit review\");\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error-message\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 21\n  }, this);\n  if (!submission) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"No submission found\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 27\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Review Assessment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Employee: \", submission.userId.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"review-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Current Scores (June 2025)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: Object.entries(submission.currentScores).map(([cat, score]) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [cat, \": \", score]\n          }, cat, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Projected Scores (2027)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: Object.entries(submission.projectedScores).map(([cat, score]) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [cat, \": \", score]\n          }, cat, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"review-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Provide Feedback\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: feedback,\n            onChange: e => setFeedback(e.target.value),\n            placeholder: \"Enter feedback for the employee\",\n            className: \"feedback-textarea\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"review-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"action-button approve\",\n              onClick: () => handleReview(\"approved\"),\n              children: \"Approve\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"action-button reject\",\n              onClick: () => handleReview(\"rejected\"),\n              children: \"Reject\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(EmployeeAssessments, \"IJhzFm5zk0gM35ihxQKff3pqwE4=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = EmployeeAssessments;\nvar _c;\n$RefreshReg$(_c, \"EmployeeAssessments\");","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useNavigate","jsxDEV","_jsxDEV","EmployeeAssessments","_s","submissionId","navigate","submission","setSubmission","feedback","setFeedback","error","setError","loading","setLoading","fetchSubmission","res","get","withCredentials","foundSubmission","data","find","s","_id","Error","err","_err$response","_err$response$data","response","message","handleReview","status","put","_err$response2","_err$response2$data","children","fileName","_jsxFileName","lineNumber","columnNumber","className","userId","name","Object","entries","currentScores","map","cat","score","projectedScores","value","onChange","e","target","placeholder","onClick","_c","$RefreshReg$"],"sources":["/Volumes/Rben/Repos/Spider_chart/frontend/src/components/EmployeeAss/EmployeeAssessments.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport \"./SupDash.css\";\n\nexport default function EmployeeAssessments() {\n  const { submissionId } = useParams();\n  const navigate = useNavigate();\n  const [submission, setSubmission] = useState(null);\n  const [feedback, setFeedback] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchSubmission = async () => {\n      try {\n        const res = await axios.get(\n          `http://localhost:4000/api/scores/pending`,\n          {\n            withCredentials: true,\n          }\n        );\n        const foundSubmission = res.data.find((s) => s._id === submissionId);\n        if (!foundSubmission) {\n          throw new Error(\"Submission not found\");\n        }\n        setSubmission(foundSubmission);\n      } catch (err) {\n        setError(err.response?.data?.message || \"Failed to load submission\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (submissionId) {\n      fetchSubmission();\n    }\n  }, [submissionId]);\n\n  const handleReview = async (status) => {\n    try {\n      await axios.put(\n        `http://localhost:4000/api/scores/${submissionId}/review`,\n        { status, feedback },\n        { withCredentials: true }\n      );\n      navigate(\"/supervisor\");\n    } catch (err) {\n      setError(err.response?.data?.message || \"Failed to submit review\");\n    }\n  };\n\n  if (loading) return <div>Loading...</div>;\n  if (error) return <div className=\"error-message\">{error}</div>;\n  if (!submission) return <div>No submission found</div>;\n\n  return (\n    <div className=\"dashboard-container\">\n      <div className=\"dashboard-header\">\n        <h1>Review Assessment</h1>\n        <h2>Employee: {submission.userId.name}</h2>\n      </div>\n      <div className=\"dashboard-content\">\n        <div className=\"review-card\">\n          <h3>Current Scores (June 2025)</h3>\n          <ul>\n            {Object.entries(submission.currentScores).map(([cat, score]) => (\n              <li key={cat}>\n                {cat}: {score}\n              </li>\n            ))}\n          </ul>\n          <h3>Projected Scores (2027)</h3>\n          <ul>\n            {Object.entries(submission.projectedScores).map(([cat, score]) => (\n              <li key={cat}>\n                {cat}: {score}\n              </li>\n            ))}\n          </ul>\n          <div className=\"review-form\">\n            <h3>Provide Feedback</h3>\n            <textarea\n              value={feedback}\n              onChange={(e) => setFeedback(e.target.value)}\n              placeholder=\"Enter feedback for the employee\"\n              className=\"feedback-textarea\"\n            />\n            <div className=\"review-actions\">\n              <button\n                className=\"action-button approve\"\n                onClick={() => handleReview(\"approved\")}\n              >\n                Approve\n              </button>\n              <button\n                className=\"action-button reject\"\n                onClick={() => handleReview(\"rejected\")}\n              >\n                Reject\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}