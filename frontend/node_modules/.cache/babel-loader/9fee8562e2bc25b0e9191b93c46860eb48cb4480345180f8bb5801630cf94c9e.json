{"ast":null,"code":"import _objectSpread from\"/Volumes/Rben/Repos/Competency/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef,useEffect}from\"react\";import LOGO from\"../../assets/nock j.png\";import axios from\"axios\";import{Link}from\"react-router-dom\";import\"./SupDash.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SupDash(){const[isDropdownOpen,setIsDropdownOpen]=useState(false);const[isNotifOpen,setIsNotifOpen]=useState(false);const[user,setUser]=useState(null);const[summary,setSummary]=useState({totalUsers:0,pending:0,approved:0,rejected:0});const[submissions,setSubmissions]=useState([]);const[notifications,setNotifications]=useState([]);const[error,setError]=useState(null);const dropdownRef=useRef(null);const notifRef=useRef(null);const toggleDropdown=()=>{setIsDropdownOpen(!isDropdownOpen);};const toggleNotifDropdown=()=>{setIsNotifOpen(!isNotifOpen);};const markAsRead=async notificationId=>{try{await axios.patch(\"\".concat(process.env.REACT_APP_API_URL,\"/api/notifications/\").concat(notificationId,\"/read\"),{},{withCredentials:true});setNotifications(notifications.filter(notif=>notif._id!==notificationId));}catch(err){console.error(\"Error marking notification as read:\",err);}};useEffect(()=>{const fetchUserData=async()=>{try{const res=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/auth/me\"),{withCredentials:true});const userData=res.data.user;setUser(userData);if(userData.role!==\"supervisor\"){setError(\"Access restricted to supervisors\");return;}const teamRes=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/team\"),{withCredentials:true});setSubmissions(teamRes.data.users.flatMap(user=>user.submissions.map(sub=>_objectSpread(_objectSpread({},sub),{},{submitter:{name:user.name,email:user.email}}))));setSummary(teamRes.data.summary);setNotifications(teamRes.data.notifications||[]);}catch(err){var _err$response,_err$response2,_err$response2$data,_err$response3;console.error(\"Error fetching data:\",((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.data)||err.message);setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||\"Failed to load dashboard data\");if(((_err$response3=err.response)===null||_err$response3===void 0?void 0:_err$response3.status)===401){window.location.href=\"/login\";}}};fetchUserData();// Poll for updates every 5 minutes\nconst interval=setInterval(fetchUserData,300000);const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setIsDropdownOpen(false);}if(notifRef.current&&!notifRef.current.contains(event.target)){setIsNotifOpen(false);}};document.addEventListener(\"mousedown\",handleClickOutside);return()=>{clearInterval(interval);document.removeEventListener(\"mousedown\",handleClickOutside);};},[]);if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"error-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"retry-button\",onClick:()=>window.location.reload(),children:\"Retry\"})]});}if(!user){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loading-spinner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-sector spinner-sector-primary\"}),/*#__PURE__*/_jsx(\"div\",{className:\"spinner-sector spinner-sector-secondary\"}),/*#__PURE__*/_jsx(\"div\",{className:\"spinner-sector spinner-sector-tertiary\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"loading-content\",children:[/*#__PURE__*/_jsx(\"img\",{src:LOGO,alt:\"NOCK Logo\",className:\"loading-logo\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"loading-text\",children:\"Loading Dashboard Data\"}),/*#__PURE__*/_jsx(\"p\",{className:\"loading-subtext\",children:\"Please wait while we prepare\"})]})]});}const handleLogout=async()=>{try{await axios.post(\"http://localhost:4000/api/auth/logout\",{},{withCredentials:true});window.location.href=\"/login\";// or use navigate() from react-router\n}catch(err){console.error(\"Logout failed:\",err);}};const nameParts=user.name.split(\" \");const initials=nameParts.length>=2?\"\".concat(nameParts[0][0]).concat(nameParts[nameParts.length-1][0]):nameParts[0][0];const pendingReviews=submissions.filter(sub=>sub.status===\"pending\").slice(0,3);const completedReviews=submissions.filter(sub=>sub.status===\"approved\").slice(0,3);return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"modern-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modern-logo\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"logo-placeholder\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"logo-icon\",src:LOGO,alt:\"logo\"}),/*#__PURE__*/_jsx(\"span\",{className:\"logo-text\",children:\"Energizing Kenya\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notification-container\",ref:notifRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notification-bell\",onClick:toggleNotifDropdown,children:[\"\\uD83D\\uDD14\",\" \",notifications.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"notification-count\",children:notifications.length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"notification-dropdown \".concat(isNotifOpen?\"open\":\"\"),children:notifications.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"notification-empty\",children:\"No new notifications\"}):notifications.map(notif=>/*#__PURE__*/_jsxs(\"div\",{className:\"notification-item\",children:[/*#__PURE__*/_jsx(\"p\",{children:notif.message}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>markAsRead(notif._id),className:\"mark-read-button\",children:\"Mark as Read\"})]},notif._id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modern-profile\",ref:dropdownRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",onClick:toggleDropdown,children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-avatar\",children:initials}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:user.name}),/*#__PURE__*/_jsx(\"p\",{children:user.occupation})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-arrow \".concat(isDropdownOpen?\"open\":\"\"),children:\"\\u25BC\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu \".concat(isDropdownOpen?\"open\":\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-divider\"}),/*#__PURE__*/_jsx(Link,{to:\"/logout\",onClick:handleLogout,className:\"dropdown-item logout\",children:\"Log Out\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Competency Assessment\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Supervisor Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-message\",children:[\"Welcome, \",/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:user.name}),/*#__PURE__*/_jsx(\"p\",{children:\"Manage and review competency assessments for your team members.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"department-info\",children:[\"Department: \",/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:\"Upstream\"}),\" \\u2022 Team Size:\",\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"highlight\",children:[summary.totalUsers,\" employee(s)\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stats-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon pending\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Pending Reviews\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:summary.pending})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon completed\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Completed Reviews\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:summary.approved})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon total\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Total Team Assessments\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:summary.pending+summary.approved+summary.rejected})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"actions-section\",children:/*#__PURE__*/_jsx(Link,{to:\"/employeeAssessments\",children:/*#__PURE__*/_jsx(\"button\",{className:\"action-button\",children:\"View All Assessments\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"reviews-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"review-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"review-title\",children:\"Pending Reviews\"}),pendingReviews.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:\"No pending reviews\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"review-list\",children:pendingReviews.map(sub=>/*#__PURE__*/_jsxs(\"li\",{className:\"review-item\",children:[sub.submitter.name,\"- Submitted at\",\" \",new Date(sub.submittedAt).toLocaleDateString()]},sub._id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"review-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"review-title\",children:\"Recently Completed Reviews\"}),completedReviews.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:\"No completed reviews\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"review-list\",children:completedReviews.map(sub=>/*#__PURE__*/_jsxs(\"li\",{className:\"review-item\",children:[sub.submitter.name,\" - Approved at\",\" \",new Date(sub.approvedAt||sub.submittedAt).toLocaleDateString()]},sub._id))})]})]})]})]});}","map":{"version":3,"names":["React","useState","useRef","useEffect","LOGO","axios","Link","jsx","_jsx","jsxs","_jsxs","SupDash","isDropdownOpen","setIsDropdownOpen","isNotifOpen","setIsNotifOpen","user","setUser","summary","setSummary","totalUsers","pending","approved","rejected","submissions","setSubmissions","notifications","setNotifications","error","setError","dropdownRef","notifRef","toggleDropdown","toggleNotifDropdown","markAsRead","notificationId","patch","concat","process","env","REACT_APP_API_URL","withCredentials","filter","notif","_id","err","console","fetchUserData","res","get","userData","data","role","teamRes","users","flatMap","map","sub","_objectSpread","submitter","name","email","_err$response","_err$response2","_err$response2$data","_err$response3","response","message","status","window","location","href","interval","setInterval","handleClickOutside","event","current","contains","target","document","addEventListener","clearInterval","removeEventListener","className","children","onClick","reload","src","alt","handleLogout","post","nameParts","split","initials","length","pendingReviews","slice","completedReviews","ref","occupation","to","Date","submittedAt","toLocaleDateString","approvedAt"],"sources":["/Volumes/Rben/Repos/Competency/frontend/src/components/SupDash/SupDash.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport LOGO from \"../../assets/nock j.png\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport \"./SupDash.css\";\n\nexport default function SupDash() {\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const [isNotifOpen, setIsNotifOpen] = useState(false);\n  const [user, setUser] = useState(null);\n  const [summary, setSummary] = useState({\n    totalUsers: 0,\n    pending: 0,\n    approved: 0,\n    rejected: 0,\n  });\n  const [submissions, setSubmissions] = useState([]);\n  const [notifications, setNotifications] = useState([]);\n  const [error, setError] = useState(null);\n  const dropdownRef = useRef(null);\n  const notifRef = useRef(null);\n\n  const toggleDropdown = () => {\n    setIsDropdownOpen(!isDropdownOpen);\n  };\n\n  const toggleNotifDropdown = () => {\n    setIsNotifOpen(!isNotifOpen);\n  };\n\n  const markAsRead = async (notificationId) => {\n    try {\n      await axios.patch(\n        `${process.env.REACT_APP_API_URL}/api/notifications/${notificationId}/read`,\n        {},\n        {\n          withCredentials: true,\n        }\n      );\n      setNotifications(\n        notifications.filter((notif) => notif._id !== notificationId)\n      );\n    } catch (err) {\n      console.error(\"Error marking notification as read:\", err);\n    }\n  };\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        const res = await axios.get(\n          `${process.env.REACT_APP_API_URL}/api/auth/me`,\n          {\n            withCredentials: true,\n          }\n        );\n        const userData = res.data.user;\n        setUser(userData);\n\n        if (userData.role !== \"supervisor\") {\n          setError(\"Access restricted to supervisors\");\n          return;\n        }\n\n        const teamRes = await axios.get(\n          `${process.env.REACT_APP_API_URL}/api/team`,\n          {\n            withCredentials: true,\n          }\n        );\n        setSubmissions(\n          teamRes.data.users.flatMap((user) =>\n            user.submissions.map((sub) => ({\n              ...sub,\n              submitter: { name: user.name, email: user.email },\n            }))\n          )\n        );\n        setSummary(teamRes.data.summary);\n        setNotifications(teamRes.data.notifications || []);\n      } catch (err) {\n        console.error(\n          \"Error fetching data:\",\n          err.response?.data || err.message\n        );\n        setError(\n          err.response?.data?.message || \"Failed to load dashboard data\"\n        );\n        if (err.response?.status === 401) {\n          window.location.href = \"/login\";\n        }\n      }\n    };\n    fetchUserData();\n\n    // Poll for updates every 5 minutes\n    const interval = setInterval(fetchUserData, 300000);\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsDropdownOpen(false);\n      }\n      if (notifRef.current && !notifRef.current.contains(event.target)) {\n        setIsNotifOpen(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      clearInterval(interval);\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, []);\n\n  if (error) {\n    return (\n      <div className=\"error-container\">\n        <div className=\"error-message\">{error}</div>\n        <button\n          className=\"retry-button\"\n          onClick={() => window.location.reload()}\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\">\n          <div className=\"spinner-sector spinner-sector-primary\"></div>\n          <div className=\"spinner-sector spinner-sector-secondary\"></div>\n          <div className=\"spinner-sector spinner-sector-tertiary\"></div>\n        </div>\n        <div className=\"loading-content\">\n          <img src={LOGO} alt=\"NOCK Logo\" className=\"loading-logo\" />\n          <h2 className=\"loading-text\">Loading Dashboard Data</h2>\n          <p className=\"loading-subtext\">Please wait while we prepare</p>\n        </div>\n      </div>\n    );\n  }\n\n  const handleLogout = async () => {\n    try {\n      await axios.post(\n        \"http://localhost:4000/api/auth/logout\",\n        {},\n        {\n          withCredentials: true,\n        }\n      );\n      window.location.href = \"/login\"; // or use navigate() from react-router\n    } catch (err) {\n      console.error(\"Logout failed:\", err);\n    }\n  };\n\n  const nameParts = user.name.split(\" \");\n  const initials =\n    nameParts.length >= 2\n      ? `${nameParts[0][0]}${nameParts[nameParts.length - 1][0]}`\n      : nameParts[0][0];\n\n  const pendingReviews = submissions\n    .filter((sub) => sub.status === \"pending\")\n    .slice(0, 3);\n  const completedReviews = submissions\n    .filter((sub) => sub.status === \"approved\")\n    .slice(0, 3);\n\n  return (\n    <div className=\"dashboard-container\">\n      <header className=\"modern-header\">\n        <div className=\"modern-logo\">\n          <div className=\"logo-placeholder\">\n            <img className=\"logo-icon\" src={LOGO} alt=\"logo\" />\n            <span className=\"logo-text\">Energizing Kenya</span>\n          </div>\n        </div>\n        <div className=\"header-right\">\n          <div className=\"notification-container\" ref={notifRef}>\n            <div className=\"notification-bell\" onClick={toggleNotifDropdown}>\n              ðŸ””{\" \"}\n              {notifications.length > 0 && (\n                <span className=\"notification-count\">\n                  {notifications.length}\n                </span>\n              )}\n            </div>\n            <div\n              className={`notification-dropdown ${isNotifOpen ? \"open\" : \"\"}`}\n            >\n              {notifications.length === 0 ? (\n                <div className=\"notification-empty\">No new notifications</div>\n              ) : (\n                notifications.map((notif) => (\n                  <div key={notif._id} className=\"notification-item\">\n                    <p>{notif.message}</p>\n                    <button\n                      onClick={() => markAsRead(notif._id)}\n                      className=\"mark-read-button\"\n                    >\n                      Mark as Read\n                    </button>\n                  </div>\n                ))\n              )}\n            </div>\n          </div>\n          <div className=\"modern-profile\" ref={dropdownRef}>\n            <div className=\"profile-container\" onClick={toggleDropdown}>\n              <div className=\"profile-avatar\">{initials}</div>\n              <div className=\"profile-info\">\n                <h3>{user.name}</h3>\n                <p>{user.occupation}</p>\n              </div>\n              <div className={`dropdown-arrow ${isDropdownOpen ? \"open\" : \"\"}`}>\n                â–¼\n              </div>\n            </div>\n            <div className={`dropdown-menu ${isDropdownOpen ? \"open\" : \"\"}`}>\n              <div className=\"dropdown-divider\"></div>\n              <Link\n                to=\"/logout\"\n                onClick={handleLogout}\n                className=\"dropdown-item logout\"\n              >\n                Log Out\n              </Link>\n            </div>\n          </div>\n        </div>\n      </header>\n      <div className=\"dashboard-header\">\n        <h1>Competency Assessment</h1>\n        <h2>Supervisor Dashboard</h2>\n        <div className=\"welcome-message\">\n          Welcome, <span className=\"user-name\">{user.name}</span>\n          <p>Manage and review competency assessments for your team members.</p>\n        </div>\n        <div className=\"department-info\">\n          Department: <span className=\"highlight\">Upstream</span> â€¢ Team Size:{\" \"}\n          <span className=\"highlight\">{summary.totalUsers} employee(s)</span>\n        </div>\n      </div>\n      <div className=\"dashboard-content\">\n        <div className=\"stats-container\">\n          <div className=\"stat-card\">\n            <div className=\"stat-header\">\n              <div className=\"stat-icon pending\"></div>\n              <h3>Pending Reviews</h3>\n            </div>\n            <div className=\"stat-value\">{summary.pending}</div>\n          </div>\n          <div className=\"stat-card\">\n            <div className=\"stat-header\">\n              <div className=\"stat-icon completed\"></div>\n              <h3>Completed Reviews</h3>\n            </div>\n            <div className=\"stat-value\">{summary.approved}</div>\n          </div>\n          <div className=\"stat-card\">\n            <div className=\"stat-header\">\n              <div className=\"stat-icon total\"></div>\n              <h3>Total Team Assessments</h3>\n            </div>\n            <div className=\"stat-value\">\n              {summary.pending + summary.approved + summary.rejected}\n            </div>\n          </div>\n        </div>\n        <div className=\"actions-section\">\n          <Link to=\"/employeeAssessments\">\n            <button className=\"action-button\">View All Assessments</button>\n          </Link>\n        </div>\n        <div className=\"reviews-section\">\n          <div className=\"review-card\">\n            <h3 className=\"review-title\">Pending Reviews</h3>\n            {pendingReviews.length === 0 ? (\n              <div className=\"empty-state\">No pending reviews</div>\n            ) : (\n              <ul className=\"review-list\">\n                {pendingReviews.map((sub) => (\n                  <li key={sub._id} className=\"review-item\">\n                    {sub.submitter.name}- Submitted at{\" \"}\n                    {new Date(sub.submittedAt).toLocaleDateString()}\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n          <div className=\"review-card\">\n            <h3 className=\"review-title\">Recently Completed Reviews</h3>\n            {completedReviews.length === 0 ? (\n              <div className=\"empty-state\">No completed reviews</div>\n            ) : (\n              <ul className=\"review-list\">\n                {completedReviews.map((sub) => (\n                  <li key={sub._id} className=\"review-item\">\n                    {sub.submitter.name} - Approved at{\" \"}\n                    {new Date(\n                      sub.approvedAt || sub.submittedAt\n                    ).toLocaleDateString()}\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}