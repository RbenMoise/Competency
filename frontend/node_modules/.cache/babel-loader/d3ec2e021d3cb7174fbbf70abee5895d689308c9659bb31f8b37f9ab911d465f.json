{"ast":null,"code":"var _jsxFileName = \"/Volumes/Rben/Repos/Spider_chart/frontend/src/components/EmployeeAss/EmployeeAssessments.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport LOGO from \"../../assets/nock j.png\";\nimport SupGuidelines from \"../Guidelines/SupGuidelines\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"./EmployeeAssessments.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EmployeeAssessments() {\n  _s();\n  function DashboardIcon() {\n    return /*#__PURE__*/_jsxDEV(\"svg\", {\n      width: \"24\",\n      height: \"24\",\n      viewBox: \"0 0 24 24\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n        x: \"3\",\n        y: \"3\",\n        width: \"8\",\n        height: \"8\",\n        rx: \"1\",\n        fill: \"#0c0c0c\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n        x: \"3\",\n        y: \"13\",\n        width: \"8\",\n        height: \"8\",\n        rx: \"1\",\n        fill: \"#0c0c0c\",\n        opacity: \"0.8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n        x: \"13\",\n        y: \"3\",\n        width: \"8\",\n        height: \"8\",\n        rx: \"1\",\n        fill: \"#0c0c0c\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n        x: \"13\",\n        y: \"13\",\n        width: \"8\",\n        height: \"8\",\n        rx: \"1\",\n        fill: \"#0c0c0c\",\n        opacity: \"0.8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M12 3V21\",\n        stroke: \"#e0e0e0\",\n        strokeWidth: \"1.5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M3 12H21\",\n        stroke: \"#e0e0e0\",\n        strokeWidth: \"1.5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 7\n    }, this);\n  }\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const [showPopup, setShowPopup] = useState(false);\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState(null);\n  const [submissions, setSubmissions] = useState([]);\n  const [summary, setSummary] = useState({\n    totalUsers: 0,\n    pending: 0,\n    approved: 0,\n    rejected: 0\n  });\n  const [filter, setFilter] = useState(\"All\");\n  const [rejectComments, setRejectComments] = useState({});\n  const [showApprovalModal, setShowApprovalModal] = useState(false);\n  const [currentSubmission, setCurrentSubmission] = useState(null);\n  const [supervisorAssessment, setSupervisorAssessment] = useState({});\n  const [modalMode, setModalMode] = useState(\"edit\"); // \"edit\" for pending, \"view\" for approved/rejected\n  const dropdownRef = useRef(null);\n  const toggleDropdown = () => {\n    setIsDropdownOpen(!isDropdownOpen);\n  };\n  const fetchSubmissions = async () => {\n    try {\n      const teamRes = await axios.get(\"http://localhost:4000/api/team\", {\n        withCredentials: true\n      });\n      console.log(\"Fetched team data:\", teamRes.data);\n      setSubmissions(teamRes.data.users.flatMap(user => user.submissions.map(sub => ({\n        ...sub,\n        submitter: {\n          name: user.name,\n          email: user.email,\n          occupation: user.occupation,\n          role: user.role\n        }\n      }))));\n      setSummary(teamRes.data.summary);\n    } catch (err) {\n      var _err$response, _err$response2, _err$response2$data;\n      console.error(\"Error fetching submissions:\", ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message);\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || \"Failed to load data. Please try again.\");\n    }\n  };\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        const res = await axios.get(\"http://localhost:4000/api/auth/me\", {\n          withCredentials: true\n        });\n        const userData = res.data.user;\n        console.log(\"Fetched user data:\", userData);\n        setUser(userData);\n        if (userData.role !== \"supervisor\") {\n          setError(\"Access restricted to supervisors\");\n          return;\n        }\n        await fetchSubmissions();\n      } catch (err) {\n        var _err$response3, _err$response4, _err$response4$data, _err$response5;\n        console.error(\"Error fetching data:\", ((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.data) || err.message);\n        setError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || \"Failed to load data.\");\n        if (((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : _err$response5.status) === 401) {\n          window.location.href = \"/login\";\n        }\n      }\n    };\n    fetchUserData();\n    const handleClickOutside = event => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsDropdownOpen(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n  const formatScores = scores => {\n    if (!scores || typeof scores !== \"object\") return \"No assessment\";\n    return Object.entries(scores).map(([key, value]) => `${key}: ${value}`).join(\", \");\n  };\n  const openApprovalModal = (submission, mode = \"edit\") => {\n    setCurrentSubmission(submission);\n    setModalMode(mode);\n    if (mode === \"edit\") {\n      setSupervisorAssessment(Object.keys(submission.current).reduce((acc, curr) => ({\n        ...acc,\n        [curr]: \"\"\n      }), {}));\n    }\n    setShowApprovalModal(true);\n  };\n  const handleApproval = async () => {\n    try {\n      const res = await axios.patch(`http://localhost:4000/api/scores/${currentSubmission._id}/approve`, {\n        status: \"approved\",\n        supervisorAssessment\n      }, {\n        withCredentials: true\n      });\n      console.log(`Submission ${currentSubmission._id} approved:`, res.data);\n      await fetchSubmissions();\n      setShowApprovalModal(false);\n      setCurrentSubmission(null);\n      setSupervisorAssessment({});\n    } catch (err) {\n      var _err$response6, _err$response7, _err$response7$data;\n      console.error(\"Error approving submission:\", ((_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : _err$response6.data) || err.message);\n      setError(((_err$response7 = err.response) === null || _err$response7 === void 0 ? void 0 : (_err$response7$data = _err$response7.data) === null || _err$response7$data === void 0 ? void 0 : _err$response7$data.message) || \"Failed to approve submission.\");\n    }\n  };\n  const handleReject = async (submissionId, comments) => {\n    try {\n      const res = await axios.patch(`http://localhost:4000/api/scores/${submissionId}/approve`, {\n        status: \"rejected\",\n        approvalComments: comments\n      }, {\n        withCredentials: true\n      });\n      console.log(`Submission ${submissionId} rejected:`, res.data);\n      await fetchSubmissions();\n      setRejectComments(prev => ({\n        ...prev,\n        [submissionId]: \"\"\n      }));\n    } catch (err) {\n      var _err$response8, _err$response9, _err$response9$data;\n      console.error(\"Error rejecting submission:\", ((_err$response8 = err.response) === null || _err$response8 === void 0 ? void 0 : _err$response8.data) || err.message);\n      setError(((_err$response9 = err.response) === null || _err$response9 === void 0 ? void 0 : (_err$response9$data = _err$response9.data) === null || _err$response9$data === void 0 ? void 0 : _err$response9$data.message) || \"Failed to reject submission.\");\n    }\n  };\n  const filteredSubmissions = filter === \"All\" ? submissions : submissions.filter(sub => filter === \"Pending\" ? sub.status === \"pending\" : filter === \"Completed\" ? sub.status === \"approved\" : filter === \"Rejected\" ? sub.status === \"rejected\" : false);\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"retry-button\",\n        onClick: () => window.location.reload(),\n        children: \"Retry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this);\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-sector spinner-sector-primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-sector spinner-sector-secondary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-sector spinner-sector-tertiary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: LOGO,\n          alt: \"NOCK Logo\",\n          className: \"loading-logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"loading-text\",\n          children: \"Loading Assessment Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"loading-subtext\",\n          children: \"Please wait while we prepare\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this);\n  }\n  const nameParts = user.name.split(\" \");\n  const initials = nameParts.length >= 2 ? `${nameParts[0][0]}${nameParts[nameParts.length - 1][0]}` : nameParts[0][0];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"assessments-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"modern-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modern-logo\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo-placeholder\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"logo-icon\",\n            src: LOGO,\n            alt: \"logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"logo-text\",\n            children: \"Energizing Kenya\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"dashlink\",\n        to: \"/supDash\",\n        children: [/*#__PURE__*/_jsxDEV(DashboardIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), \"Dashboard\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modern-profile\",\n        ref: dropdownRef,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-container\",\n          onClick: toggleDropdown,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-avatar\",\n            children: initials\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: user.occupation\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `dropdown-arrow ${isDropdownOpen ? \"open\" : \"\"}`,\n            children: \"\\u25BC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `dropdown-menu ${isDropdownOpen ? \"open\" : \"\"}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown-divider\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/logout\",\n            className: \"dropdown-item logout\",\n            children: \"Log Out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Employee Assessments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"assessments-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Total Staff: \", summary.totalUsers]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Pending: \", summary.pending, \" | Approved: \", summary.approved, \" | Rejected: \", summary.rejected]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"assessments-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"action-card\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"view-all-btn\",\n          children: [\"View Team Performance\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"arrow-icon\",\n            children: \"\\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `tab ${filter === \"All\" ? \"active\" : \"\"}`,\n          onClick: () => setFilter(\"All\"),\n          children: [\"All (\", submissions.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `tab ${filter === \"Pending\" ? \"active\" : \"\"}`,\n          onClick: () => setFilter(\"Pending\"),\n          children: [\"Pending (\", summary.pending, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `tab ${filter === \"Completed\" ? \"active\" : \"\"}`,\n          onClick: () => setFilter(\"Completed\"),\n          children: [\"Completed (\", summary.approved, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `tab ${filter === \"Rejected\" ? \"active\" : \"\"}`,\n          onClick: () => setFilter(\"Rejected\"),\n          children: [\"Rejected (\", summary.rejected, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), filteredSubmissions.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state-card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-icon\",\n            children: \"\\uD83D\\uDD0D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"No Assessments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Try refreshing or check back later\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"submissions-table\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"sub-table-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Position\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Submitted At\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Employee Assessment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Supervisor Assessment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: filteredSubmissions.map(submission => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: submission.submitter.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: submission.submitter.occupation\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `status-badge ${submission.status.toLowerCase()}`,\n                  children: submission.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: new Date(submission.submittedAt).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: formatScores(submission.current)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: formatScores(submission.supervisorAssessment)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: submission.status === \"pending\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"action-buttons\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"approve-btn\",\n                    onClick: () => openApprovalModal(submission, \"edit\"),\n                    children: \"Assess\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"reject-container\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      placeholder: \"Rejection reason...\",\n                      value: rejectComments[submission._id] || \"\",\n                      onChange: e => setRejectComments(prev => ({\n                        ...prev,\n                        [submission._id]: e.target.value\n                      })),\n                      className: \"reject-input\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 379,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"reject-btn\",\n                      onClick: () => handleReject(submission._id, rejectComments[submission._id] || \"\"),\n                      disabled: !rejectComments[submission._id],\n                      children: \"Reject\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 391,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"view-btn\",\n                  onClick: () => openApprovalModal(submission, \"view\"),\n                  children: \"View\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 21\n              }, this)]\n            }, submission._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this), showApprovalModal && currentSubmission && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"approval-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: modalMode === \"edit\" ? `Assess Submission for ${currentSubmission.submitter.name}` : `Submission for ${currentSubmission.submitter.name}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 17\n            }, this), \" \", currentSubmission.submitter.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 17\n            }, this), \" \", currentSubmission.submitter.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Position:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 17\n            }, this), \" \", currentSubmission.submitter.occupation]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Role:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this), \" \", currentSubmission.submitter.role]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"scores-comparison\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Performance Assessment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"scores-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Current Employee State\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Supervisor Assessment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: Object.entries(currentSubmission.current).map(([category, value]) => {\n                var _currentSubmission$su;\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: category\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 458,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: value\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 459,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: modalMode === \"edit\" ? /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      min: \"0\",\n                      max: \"5\",\n                      value: supervisorAssessment[category] || \"\",\n                      onChange: e => setSupervisorAssessment(prev => ({\n                        ...prev,\n                        [category]: parseInt(e.target.value) || \"\"\n                      })),\n                      className: \"assessment-input\",\n                      placeholder: \"0-5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 462,\n                      columnNumber: 29\n                    }, this) : ((_currentSubmission$su = currentSubmission.supervisorAssessment) === null || _currentSubmission$su === void 0 ? void 0 : _currentSubmission$su[category]) || \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 460,\n                    columnNumber: 25\n                  }, this)]\n                }, category, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 15\n          }, this), modalMode === \"view\" && currentSubmission.status === \"rejected\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rejection-comments\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Rejection Comments\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: currentSubmission.approvalComments || \"No comments provided.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowPopup(true),\n            className: \"approve-btn\",\n            children: \"Guidelines\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 25\n          }, this), showPopup && /*#__PURE__*/_jsxDEV(SupGuidelines, {\n            onClose: () => setShowPopup(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 39\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel-btn\",\n            onClick: () => setShowApprovalModal(false),\n            children: modalMode === \"edit\" ? \"Cancel\" : \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 15\n          }, this), modalMode === \"edit\" && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"approve-btn\",\n            onClick: handleApproval,\n            disabled: Object.keys(supervisorAssessment).length !== Object.keys(currentSubmission.current).length || Object.values(supervisorAssessment).some(val => val === \"\"),\n            children: \"Approve\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 251,\n    columnNumber: 5\n  }, this);\n}\n_s(EmployeeAssessments, \"vuox40n7wNiooBNWGbjnfR1ZnLY=\");\n_c = EmployeeAssessments;\nvar _c;\n$RefreshReg$(_c, \"EmployeeAssessments\");","map":{"version":3,"names":["React","useState","useRef","useEffect","LOGO","SupGuidelines","Link","axios","jsxDEV","_jsxDEV","EmployeeAssessments","_s","DashboardIcon","width","height","viewBox","fill","xmlns","children","x","y","rx","fileName","_jsxFileName","lineNumber","columnNumber","opacity","d","stroke","strokeWidth","isDropdownOpen","setIsDropdownOpen","showPopup","setShowPopup","user","setUser","error","setError","submissions","setSubmissions","summary","setSummary","totalUsers","pending","approved","rejected","filter","setFilter","rejectComments","setRejectComments","showApprovalModal","setShowApprovalModal","currentSubmission","setCurrentSubmission","supervisorAssessment","setSupervisorAssessment","modalMode","setModalMode","dropdownRef","toggleDropdown","fetchSubmissions","teamRes","get","withCredentials","console","log","data","users","flatMap","map","sub","submitter","name","email","occupation","role","err","_err$response","_err$response2","_err$response2$data","response","message","fetchUserData","res","userData","_err$response3","_err$response4","_err$response4$data","_err$response5","status","window","location","href","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","formatScores","scores","Object","entries","key","value","join","openApprovalModal","submission","mode","keys","reduce","acc","curr","handleApproval","patch","_id","_err$response6","_err$response7","_err$response7$data","handleReject","submissionId","comments","approvalComments","prev","_err$response8","_err$response9","_err$response9$data","filteredSubmissions","className","onClick","reload","src","alt","nameParts","split","initials","length","to","ref","toLowerCase","Date","submittedAt","toLocaleString","type","placeholder","onChange","e","disabled","category","_currentSubmission$su","min","max","parseInt","onClose","values","some","val","_c","$RefreshReg$"],"sources":["/Volumes/Rben/Repos/Spider_chart/frontend/src/components/EmployeeAss/EmployeeAssessments.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport LOGO from \"../../assets/nock j.png\";\nimport SupGuidelines from \"../Guidelines/SupGuidelines\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"./EmployeeAssessments.css\";\n\nexport default function EmployeeAssessments() {\n  function DashboardIcon() {\n    return (\n      <svg\n        width=\"24\"\n        height=\"24\"\n        viewBox=\"0 0 24 24\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <rect x=\"3\" y=\"3\" width=\"8\" height=\"8\" rx=\"1\" fill=\"#0c0c0c\" />\n        <rect\n          x=\"3\"\n          y=\"13\"\n          width=\"8\"\n          height=\"8\"\n          rx=\"1\"\n          fill=\"#0c0c0c\"\n          opacity=\"0.8\"\n        />\n        <rect x=\"13\" y=\"3\" width=\"8\" height=\"8\" rx=\"1\" fill=\"#0c0c0c\" />\n        <rect\n          x=\"13\"\n          y=\"13\"\n          width=\"8\"\n          height=\"8\"\n          rx=\"1\"\n          fill=\"#0c0c0c\"\n          opacity=\"0.8\"\n        />\n        <path d=\"M12 3V21\" stroke=\"#e0e0e0\" strokeWidth=\"1.5\" />\n        <path d=\"M3 12H21\" stroke=\"#e0e0e0\" strokeWidth=\"1.5\" />\n      </svg>\n    );\n  }\n\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const [showPopup, setShowPopup] = useState(false);\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState(null);\n  const [submissions, setSubmissions] = useState([]);\n  const [summary, setSummary] = useState({\n    totalUsers: 0,\n    pending: 0,\n    approved: 0,\n    rejected: 0,\n  });\n  const [filter, setFilter] = useState(\"All\");\n  const [rejectComments, setRejectComments] = useState({});\n  const [showApprovalModal, setShowApprovalModal] = useState(false);\n  const [currentSubmission, setCurrentSubmission] = useState(null);\n  const [supervisorAssessment, setSupervisorAssessment] = useState({});\n  const [modalMode, setModalMode] = useState(\"edit\"); // \"edit\" for pending, \"view\" for approved/rejected\n  const dropdownRef = useRef(null);\n\n  const toggleDropdown = () => {\n    setIsDropdownOpen(!isDropdownOpen);\n  };\n\n  const fetchSubmissions = async () => {\n    try {\n      const teamRes = await axios.get(\"http://localhost:4000/api/team\", {\n        withCredentials: true,\n      });\n      console.log(\"Fetched team data:\", teamRes.data);\n      setSubmissions(\n        teamRes.data.users.flatMap((user) =>\n          user.submissions.map((sub) => ({\n            ...sub,\n            submitter: {\n              name: user.name,\n              email: user.email,\n              occupation: user.occupation,\n              role: user.role,\n            },\n          }))\n        )\n      );\n      setSummary(teamRes.data.summary);\n    } catch (err) {\n      console.error(\n        \"Error fetching submissions:\",\n        err.response?.data || err.message\n      );\n      setError(\n        err.response?.data?.message || \"Failed to load data. Please try again.\"\n      );\n    }\n  };\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        const res = await axios.get(\"http://localhost:4000/api/auth/me\", {\n          withCredentials: true,\n        });\n        const userData = res.data.user;\n        console.log(\"Fetched user data:\", userData);\n        setUser(userData);\n\n        if (userData.role !== \"supervisor\") {\n          setError(\"Access restricted to supervisors\");\n          return;\n        }\n\n        await fetchSubmissions();\n      } catch (err) {\n        console.error(\n          \"Error fetching data:\",\n          err.response?.data || err.message\n        );\n        setError(err.response?.data?.message || \"Failed to load data.\");\n        if (err.response?.status === 401) {\n          window.location.href = \"/login\";\n        }\n      }\n    };\n    fetchUserData();\n\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsDropdownOpen(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  const formatScores = (scores) => {\n    if (!scores || typeof scores !== \"object\") return \"No assessment\";\n    return Object.entries(scores)\n      .map(([key, value]) => `${key}: ${value}`)\n      .join(\", \");\n  };\n\n  const openApprovalModal = (submission, mode = \"edit\") => {\n    setCurrentSubmission(submission);\n    setModalMode(mode);\n    if (mode === \"edit\") {\n      setSupervisorAssessment(\n        Object.keys(submission.current).reduce(\n          (acc, curr) => ({\n            ...acc,\n            [curr]: \"\",\n          }),\n          {}\n        )\n      );\n    }\n    setShowApprovalModal(true);\n  };\n\n  const handleApproval = async () => {\n    try {\n      const res = await axios.patch(\n        `http://localhost:4000/api/scores/${currentSubmission._id}/approve`,\n        { status: \"approved\", supervisorAssessment },\n        { withCredentials: true }\n      );\n      console.log(`Submission ${currentSubmission._id} approved:`, res.data);\n      await fetchSubmissions();\n      setShowApprovalModal(false);\n      setCurrentSubmission(null);\n      setSupervisorAssessment({});\n    } catch (err) {\n      console.error(\n        \"Error approving submission:\",\n        err.response?.data || err.message\n      );\n      setError(err.response?.data?.message || \"Failed to approve submission.\");\n    }\n  };\n\n  const handleReject = async (submissionId, comments) => {\n    try {\n      const res = await axios.patch(\n        `http://localhost:4000/api/scores/${submissionId}/approve`,\n        { status: \"rejected\", approvalComments: comments },\n        { withCredentials: true }\n      );\n      console.log(`Submission ${submissionId} rejected:`, res.data);\n      await fetchSubmissions();\n      setRejectComments((prev) => ({ ...prev, [submissionId]: \"\" }));\n    } catch (err) {\n      console.error(\n        \"Error rejecting submission:\",\n        err.response?.data || err.message\n      );\n      setError(err.response?.data?.message || \"Failed to reject submission.\");\n    }\n  };\n\n  const filteredSubmissions =\n    filter === \"All\"\n      ? submissions\n      : submissions.filter((sub) =>\n          filter === \"Pending\"\n            ? sub.status === \"pending\"\n            : filter === \"Completed\"\n            ? sub.status === \"approved\"\n            : filter === \"Rejected\"\n            ? sub.status === \"rejected\"\n            : false\n        );\n\n  if (error) {\n    return (\n      <div className=\"error-container\">\n        <div className=\"error-message\">{error}</div>\n        <button\n          className=\"retry-button\"\n          onClick={() => window.location.reload()}\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\">\n          <div className=\"spinner-sector spinner-sector-primary\"></div>\n          <div className=\"spinner-sector spinner-sector-secondary\"></div>\n          <div className=\"spinner-sector spinner-sector-tertiary\"></div>\n        </div>\n        <div className=\"loading-content\">\n          <img src={LOGO} alt=\"NOCK Logo\" className=\"loading-logo\" />\n          <h2 className=\"loading-text\">Loading Assessment Data</h2>\n          <p className=\"loading-subtext\">Please wait while we prepare</p>\n        </div>\n      </div>\n    );\n  }\n\n  const nameParts = user.name.split(\" \");\n  const initials =\n    nameParts.length >= 2\n      ? `${nameParts[0][0]}${nameParts[nameParts.length - 1][0]}`\n      : nameParts[0][0];\n\n  return (\n    <div className=\"assessments-container\">\n      <header className=\"modern-header\">\n        <div className=\"modern-logo\">\n          <div className=\"logo-placeholder\">\n            <img className=\"logo-icon\" src={LOGO} alt=\"logo\" />\n            <span className=\"logo-text\">Energizing Kenya</span>\n          </div>\n        </div>\n        <Link className=\"dashlink\" to=\"/supDash\">\n          <DashboardIcon />\n          Dashboard\n        </Link>\n        <div className=\"modern-profile\" ref={dropdownRef}>\n          <div className=\"profile-container\" onClick={toggleDropdown}>\n            <div className=\"profile-avatar\">{initials}</div>\n            <div className=\"profile-info\">\n              <h3>{user.name}</h3>\n              <p>{user.occupation}</p>\n            </div>\n            <div className={`dropdown-arrow ${isDropdownOpen ? \"open\" : \"\"}`}>\n              ▼\n            </div>\n          </div>\n          <div className={`dropdown-menu ${isDropdownOpen ? \"open\" : \"\"}`}>\n            <div className=\"dropdown-divider\"></div>\n            <Link to=\"/logout\" className=\"dropdown-item logout\">\n              Log Out\n            </Link>\n          </div>\n        </div>\n      </header>\n      <h2>Employee Assessments</h2>\n      <div className=\"assessments-header\">\n        <div className=\"status-message\">\n          <p>Total Staff: {summary.totalUsers}</p>\n          <p>\n            Pending: {summary.pending} | Approved: {summary.approved} |\n            Rejected: {summary.rejected}\n          </p>\n        </div>\n      </div>\n      <div className=\"assessments-content\">\n        <div className=\"action-card\">\n          <button className=\"view-all-btn\">\n            View Team Performance\n            <span className=\"arrow-icon\">→</span>\n          </button>\n        </div>\n        <div className=\"filter-tabs\">\n          <div\n            className={`tab ${filter === \"All\" ? \"active\" : \"\"}`}\n            onClick={() => setFilter(\"All\")}\n          >\n            All ({submissions.length})\n          </div>\n          <div\n            className={`tab ${filter === \"Pending\" ? \"active\" : \"\"}`}\n            onClick={() => setFilter(\"Pending\")}\n          >\n            Pending ({summary.pending})\n          </div>\n          <div\n            className={`tab ${filter === \"Completed\" ? \"active\" : \"\"}`}\n            onClick={() => setFilter(\"Completed\")}\n          >\n            Completed ({summary.approved})\n          </div>\n          <div\n            className={`tab ${filter === \"Rejected\" ? \"active\" : \"\"}`}\n            onClick={() => setFilter(\"Rejected\")}\n          >\n            Rejected ({summary.rejected})\n          </div>\n        </div>\n        {filteredSubmissions.length === 0 ? (\n          <div className=\"empty-state-card\">\n            <div className=\"empty-state-content\">\n              <div className=\"empty-icon\">🔍</div>\n              <h3>No Assessments</h3>\n              <p>Try refreshing or check back later</p>\n            </div>\n          </div>\n        ) : (\n          <div className=\"submissions-table\">\n            <table className=\"sub-table-table\">\n              <thead>\n                <tr>\n                  <th>Name</th>\n                \n                  <th>Position</th>\n                  <th>Status</th>\n                  <th>Submitted At</th>\n               \n                  <th>Employee Assessment</th>\n                  <th>Supervisor Assessment</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filteredSubmissions.map((submission) => (\n                  <tr key={submission._id}>\n                    <td>{submission.submitter.name}</td>\n                 \n                    <td>{submission.submitter.occupation}</td>\n                   <td>\n                <span className={`status-badge ${submission.status.toLowerCase()}`}>\n                  {submission.status}\n                </span>\n              </td>\n                    \n                    <td>\n  {new Date(submission.submittedAt).toLocaleString()}\n</td>\n\n                    <td>{formatScores(submission.current)}</td>\n                    <td>{formatScores(submission.supervisorAssessment)}</td>\n                    <td>\n                      {submission.status === \"pending\" ? (\n                        <div className=\"action-buttons\">\n                          <button\n                            className=\"approve-btn\"\n                            onClick={() =>\n                              openApprovalModal(submission, \"edit\")\n                            }\n                          >\n                            Assess\n                          </button>\n                          <div className=\"reject-container\">\n                            <input\n                              type=\"text\"\n                              placeholder=\"Rejection reason...\"\n                              value={rejectComments[submission._id] || \"\"}\n                              onChange={(e) =>\n                                setRejectComments((prev) => ({\n                                  ...prev,\n                                  [submission._id]: e.target.value,\n                                }))\n                              }\n                              className=\"reject-input\"\n                            />\n                            <button\n                              className=\"reject-btn\"\n                              onClick={() =>\n                                handleReject(\n                                  submission._id,\n                                  rejectComments[submission._id] || \"\"\n                                )\n                              }\n                              disabled={!rejectComments[submission._id]}\n                            >\n                              Reject\n                            </button>\n                          </div>\n                        </div>\n                      ) : (\n                        <button\n                          className=\"view-btn\"\n                          onClick={() => openApprovalModal(submission, \"view\")}\n                        >\n                          View\n                        </button>\n                      )}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n      {showApprovalModal && currentSubmission && (\n        <div className=\"modal-overlay\">\n          <div className=\"approval-modal\">\n            <h3>\n              {modalMode === \"edit\"\n                ? `Assess Submission for ${currentSubmission.submitter.name}`\n                : `Submission for ${currentSubmission.submitter.name}`}\n            </h3>\n            <div className=\"user-info\">\n              <p>\n                <strong>Name:</strong> {currentSubmission.submitter.name}\n              </p>\n              <p>\n                <strong>Email:</strong> {currentSubmission.submitter.email}\n              </p>\n              <p>\n                <strong>Position:</strong>{\" \"}\n                {currentSubmission.submitter.occupation}\n              </p>\n              <p>\n                <strong>Role:</strong> {currentSubmission.submitter.role}\n              </p>\n            </div>\n            <div className=\"scores-comparison\">\n              <h4>Performance Assessment</h4>\n              <table className=\"scores-table\">\n                <thead>\n                  <tr>\n                    <th>Category</th>\n                    <th>Current Employee State</th>\n                    <th>Supervisor Assessment</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {Object.entries(currentSubmission.current).map(\n                    ([category, value]) => (\n                      <tr key={category}>\n                        <td>{category}</td>\n                        <td>{value}</td>\n                        <td>\n                          {modalMode === \"edit\" ? (\n                            <input\n                              type=\"number\"\n                              min=\"0\"\n                              max=\"5\"\n                              value={supervisorAssessment[category] || \"\"}\n                              onChange={(e) =>\n                                setSupervisorAssessment((prev) => ({\n                                  ...prev,\n                                  [category]: parseInt(e.target.value) || \"\",\n                                }))\n                              }\n                              className=\"assessment-input\"\n                              placeholder=\"0-5\"\n                            />\n                          ) : (\n                            currentSubmission.supervisorAssessment?.[\n                              category\n                            ] || \"-\"\n                          )}\n                        </td>\n                      </tr>\n                    )\n                  )}\n                </tbody>\n                \n              </table>\n              {modalMode === \"view\" &&\n                currentSubmission.status === \"rejected\" && (\n                  <div className=\"rejection-comments\">\n                    <h4>Rejection Comments</h4>\n                    <p>\n                      {currentSubmission.approvalComments ||\n                        \"No comments provided.\"}\n                    </p>\n                  </div>\n                )}\n            </div>\n            <div className=\"modal-actions\">\n                        <button\n                          onClick={() => setShowPopup(true)}\n                          className=\"approve-btn\"\n                        >\n                          Guidelines \n                        </button>\n                        {showPopup && <SupGuidelines onClose={() => setShowPopup(false)} />}\n                 \n              <button\n                className=\"cancel-btn\"\n                onClick={() => setShowApprovalModal(false)}\n              >\n                {modalMode === \"edit\" ? \"Cancel\" : \"Close\"}\n              </button>\n              {modalMode === \"edit\" && (\n                <button\n                  className=\"approve-btn\"\n                  onClick={handleApproval}\n                  disabled={\n                    Object.keys(supervisorAssessment).length !==\n                      Object.keys(currentSubmission.current).length ||\n                    Object.values(supervisorAssessment).some(\n                      (val) => val === \"\"\n                    )\n                  }\n                >\n                  Approve\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}