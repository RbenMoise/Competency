{"ast":null,"code":"import React,{useState,useRef,useEffect}from\"react\";import axios from\"axios\";import SupervisorSpiderChart from\"./SupervisorSpiderChart\";import SpiderChart from\"./SpiderChart\";import Guidelines from\"../Guidelines/Guidelines\";import{Link}from\"react-router-dom\";import LOGO from\"../../assets/nock j.png\";import ScoreFormManager from\"../ScoreInput/ScoreFormManager\";import\"./Modern.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const categories=[\"Geology\",\"Geophysics\",\"Geochemistry\",\"Petroleum Engineering\",\"Project Management\",\"Renewable Energy\",\"Field Work\",\"Reporting\"];export default function ModernSpiderChart(){const[showPopup,setShowPopup]=useState(false);const[isDropdownOpen,setIsDropdownOpen]=useState(false);const[isLoadingChart,setIsLoadingChart]=useState(false);const[showForm,setShowForm]=useState(true);const[dbScores,setDbScores]=useState(null);const[user,setUser]=useState(null);const[showSubmissionMessage,setShowSubmissionMessage]=useState(false);const[submissionMessage,setSubmissionMessage]=useState(\"\");const[error,setError]=useState(null);const[viewMode,setViewMode]=useState(\"chart\");const[committed,setCommitted]=useState(false);const dropdownRef=useRef(null);useEffect(()=>{const fetchUserData=async()=>{try{const res=await axios.get(\"http://localhost:4000/api/auth/me\",{withCredentials:true});console.log(\"API Response:\",res.data);const userData=res.data.user;setUser(userData);const hasScores=userData.submissions&&userData.submissions.length>0&&userData.submissions[0].current&&userData.submissions[0].projected;if(hasScores){const submission=userData.submissions[0];const dbCurrentScores=Object.fromEntries(categories.map(cat=>[cat,submission.current[cat]||0]));const dbProjectedScores=Object.fromEntries(categories.map(cat=>[cat,submission.projected[cat]||0]));const dbSupervisorScores=submission.supervisorAssessment?Object.fromEntries(categories.map(cat=>[cat,submission.supervisorAssessment[cat]||0])):null;setDbScores({currentScores:dbCurrentScores,projectedScores:dbProjectedScores,supervisorScores:dbSupervisorScores,status:submission.status||\"pending\",comments:submission.approvalComments||\"\",approvedBy:submission.approvedBy||\"\",approvedAt:submission.approvedAt||null,committed:submission.committed||false});setCommitted(submission.committed||false);setShowForm(false);setSubmissionMessage(submission.supervisorAssessment?\"🎉 Your supervisor has reviewed your assessment! Click 'View Supervisor Assessment!' to see the results.\":\"This Spider Chart displays your previously submitted competency assessment.\");setShowSubmissionMessage(true);}}catch(err){var _err$response,_err$response$data,_err$response2;console.error(\"Fetch Error:\",err.response||err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Failed to load user data.\");if(((_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.status)===401){window.location.href=\"/login\";}}};fetchUserData();const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setIsDropdownOpen(false);}};document.addEventListener(\"mousedown\",handleClickOutside);return()=>document.removeEventListener(\"mousedown\",handleClickOutside);},[]);const toggleDropdown=()=>{setIsDropdownOpen(!isDropdownOpen);};const handleSubmission=newScores=>{setShowSubmissionMessage(true);setSubmissionMessage(\"✅ Assessment submitted successfully!\");setDbScores({currentScores:newScores.currentScores,projectedScores:newScores.projectedScores});setIsLoadingChart(true);setTimeout(()=>{setIsLoadingChart(false);setShowForm(false);},5500);};const toggleViewMode=mode=>{if(viewMode!==mode){setViewMode(mode);if(mode===\"supervisor\"&&!(dbScores!==null&&dbScores!==void 0&&dbScores.supervisorScores)){setSubmissionMessage(\"⏳ Your assessment is still under review by your supervisor.\");}else if(mode===\"supervisor\"){setSubmissionMessage(\"🎉 Supervisor’s assessment available!\");}else{setSubmissionMessage(\"📊 Viewing your submitted assessment.\");}setShowSubmissionMessage(true);}};const handleCommitToggle=async()=>{try{const submissionId=user.submissions[0]._id;const newCommitted=!committed;await axios.post(\"http://localhost:4000/scores/\".concat(submissionId,\"/commit\"),{committed:newCommitted},{withCredentials:true});setCommitted(newCommitted);setSubmissionMessage(newCommitted?\"✅ You’re on your way! Your supervisor has been notified.\":\"You’ve uncommitted from the feedback.\");setShowSubmissionMessage(true);}catch(err){console.error(\"Commit Error:\",err);setSubmissionMessage(\"❌ Failed to update commitment status.\");setShowSubmissionMessage(true);}};const handleLogout=async()=>{try{await axios.post(\"http://localhost:4000/api/auth/logout\",{},{withCredentials:true});window.location.href=\"/login\";}catch(err){console.error(\"Logout failed:\",err);}};if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error});}if(!user){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loading-spinner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-sector spinner-sector-primary\"}),/*#__PURE__*/_jsx(\"div\",{className:\"spinner-sector spinner-sector-secondary\"}),/*#__PURE__*/_jsx(\"div\",{className:\"spinner-sector spinner-sector-tertiary\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"loading-content\",children:[/*#__PURE__*/_jsx(\"img\",{src:LOGO,alt:\"NOCK Logo\",className:\"loading-logo\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"loading-text\",children:\"Loading Your Data...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"loading-subtext\",children:\"Please wait while we prepare\"})]})]});}const nameParts=user.name.split(\" \");const initials=nameParts.length>=2?\"\".concat(nameParts[0][0]).concat(nameParts[nameParts.length-1][0]):nameParts[0][0];return/*#__PURE__*/_jsxs(\"div\",{className:\"modern-chart-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"modern-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modern-logo\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"logo-placeholder\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"logo-icon\",src:LOGO,alt:\"logo\"}),/*#__PURE__*/_jsx(\"span\",{className:\"logo-text\",children:\"Energizing Kenya\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modern-profile\",ref:dropdownRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",onClick:toggleDropdown,children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-avatar\",children:initials}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:user.name}),/*#__PURE__*/_jsx(\"p\",{children:user.occupation})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-arrow \".concat(isDropdownOpen?\"open\":\"\"),children:\"\\u25BC\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu \".concat(isDropdownOpen?\"open\":\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-item toggle-btn \".concat(viewMode===\"supervisor\"?\"active disabled\":\"\"),onClick:()=>toggleViewMode(\"supervisor\"),children:\"View Supervisor Assessment\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-item toggle-btn \".concat(viewMode===\"chart\"?\"active disabled\":\"\"),onClick:()=>toggleViewMode(\"chart\"),children:\"View My Assessment\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-divider\"}),/*#__PURE__*/_jsx(Link,{to:\"/logout\",onClick:handleLogout,className:\"dropdown-item logout\",children:\"Log Out\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modern-title-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"modern-title\",children:\"Upstream Competency Mapping\"}),/*#__PURE__*/_jsx(\"div\",{className:\"title-decoration\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modern-guidelines-button\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowPopup(true),className:\"modern-button guidelines-btn\",children:[\"Open Competency Guidelines \",/*#__PURE__*/_jsx(\"span\",{className:\"button-icon\",children:\"\\uD83D\\uDCCA\"})]}),showPopup&&/*#__PURE__*/_jsx(Guidelines,{onClose:()=>setShowPopup(false)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[showSubmissionMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"submission-notification \".concat(!showSubmissionMessage?\"hide\":\"\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"notification-content\",children:[/*#__PURE__*/_jsx(\"p\",{children:submissionMessage}),/*#__PURE__*/_jsx(\"button\",{className:\"close-notification\",onClick:()=>setShowSubmissionMessage(false),children:\"\\xD7\"})]})}),isLoadingChart?/*#__PURE__*/_jsxs(\"div\",{className:\"chart-loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chart-loading-spinner\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-circle\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-loading-content\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"chart-loading-text\",children:\"Generating Your Chart...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"chart-loading-subtext\",children:\"Please wait a moment\"})]})]}):showForm?/*#__PURE__*/_jsx(ScoreFormManager,{categories:categories,onScoresChange:handleSubmission,initialScores:dbScores}):/*#__PURE__*/_jsx(\"div\",{className:\"chart-wrapper\",children:viewMode===\"supervisor\"&&dbScores!==null&&dbScores!==void 0&&dbScores.supervisorScores?/*#__PURE__*/_jsx(SupervisorSpiderChart,{categories:categories,currentScores:dbScores.currentScores,projectedScores:dbScores.projectedScores,supervisorScores:dbScores.supervisorScores,status:dbScores.status,approvalComments:dbScores.comments,approvedBy:dbScores.approvedBy,approvedAt:dbScores.approvedAt,committed:committed,onCommitToggle:handleCommitToggle}):viewMode===\"supervisor\"?/*#__PURE__*/_jsx(\"p\",{className:\"no-review-message\",children:\"\\u23F3 Your assessment is still under review by your supervisor.\"}):dbScores?/*#__PURE__*/_jsx(SpiderChart,{currentScores:dbScores.currentScores,projectedScores:dbScores.projectedScores,categories:categories}):/*#__PURE__*/_jsx(\"p\",{children:\"No scores available to display.\"})})]})})]});}","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","SupervisorSpiderChart","SpiderChart","Guidelines","Link","LOGO","ScoreFormManager","jsx","_jsx","jsxs","_jsxs","categories","ModernSpiderChart","showPopup","setShowPopup","isDropdownOpen","setIsDropdownOpen","isLoadingChart","setIsLoadingChart","showForm","setShowForm","dbScores","setDbScores","user","setUser","showSubmissionMessage","setShowSubmissionMessage","submissionMessage","setSubmissionMessage","error","setError","viewMode","setViewMode","committed","setCommitted","dropdownRef","fetchUserData","res","get","withCredentials","console","log","data","userData","hasScores","submissions","length","current","projected","submission","dbCurrentScores","Object","fromEntries","map","cat","dbProjectedScores","dbSupervisorScores","supervisorAssessment","currentScores","projectedScores","supervisorScores","status","comments","approvalComments","approvedBy","approvedAt","err","_err$response","_err$response$data","_err$response2","response","message","window","location","href","handleClickOutside","event","contains","target","document","addEventListener","removeEventListener","toggleDropdown","handleSubmission","newScores","setTimeout","toggleViewMode","mode","handleCommitToggle","submissionId","_id","newCommitted","post","concat","handleLogout","className","children","src","alt","nameParts","name","split","initials","ref","onClick","occupation","to","onClose","onScoresChange","initialScores","onCommitToggle"],"sources":["/Volumes/Rben/Repos/Competency/frontend/src/components/Modern/ModernSpiderChart.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport axios from \"axios\";\nimport SupervisorSpiderChart from \"./SupervisorSpiderChart\";\nimport SpiderChart from \"./SpiderChart\";\nimport Guidelines from \"../Guidelines/Guidelines\";\nimport { Link } from \"react-router-dom\";\nimport LOGO from \"../../assets/nock j.png\";\nimport ScoreFormManager from \"../ScoreInput/ScoreFormManager\";\nimport \"./Modern.css\";\n\nconst categories = [\n  \"Geology\",\n  \"Geophysics\",\n  \"Geochemistry\",\n  \"Petroleum Engineering\",\n  \"Project Management\",\n  \"Renewable Energy\",\n  \"Field Work\",\n  \"Reporting\",\n];\n\nexport default function ModernSpiderChart() {\n  const [showPopup, setShowPopup] = useState(false);\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const [isLoadingChart, setIsLoadingChart] = useState(false);\n  const [showForm, setShowForm] = useState(true);\n  const [dbScores, setDbScores] = useState(null);\n  const [user, setUser] = useState(null);\n  const [showSubmissionMessage, setShowSubmissionMessage] = useState(false);\n  const [submissionMessage, setSubmissionMessage] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [viewMode, setViewMode] = useState(\"chart\");\n  const [committed, setCommitted] = useState(false);\n  const dropdownRef = useRef(null);\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        const res = await axios.get(\"http://localhost:4000/api/auth/me\", {\n          withCredentials: true,\n        });\n        console.log(\"API Response:\", res.data);\n        const userData = res.data.user;\n        setUser(userData);\n\n        const hasScores =\n          userData.submissions &&\n          userData.submissions.length > 0 &&\n          userData.submissions[0].current &&\n          userData.submissions[0].projected;\n\n        if (hasScores) {\n          const submission = userData.submissions[0];\n          const dbCurrentScores = Object.fromEntries(\n            categories.map((cat) => [cat, submission.current[cat] || 0])\n          );\n          const dbProjectedScores = Object.fromEntries(\n            categories.map((cat) => [cat, submission.projected[cat] || 0])\n          );\n          const dbSupervisorScores = submission.supervisorAssessment\n            ? Object.fromEntries(\n                categories.map((cat) => [\n                  cat,\n                  submission.supervisorAssessment[cat] || 0,\n                ])\n              )\n            : null;\n\n          setDbScores({\n            currentScores: dbCurrentScores,\n            projectedScores: dbProjectedScores,\n            supervisorScores: dbSupervisorScores,\n            status: submission.status || \"pending\",\n            comments: submission.approvalComments || \"\",\n            approvedBy: submission.approvedBy || \"\",\n            approvedAt: submission.approvedAt || null,\n            committed: submission.committed || false,\n          });\n          setCommitted(submission.committed || false);\n          setShowForm(false);\n          setSubmissionMessage(\n            submission.supervisorAssessment\n              ? \"🎉 Your supervisor has reviewed your assessment! Click 'View Supervisor Assessment!' to see the results.\"\n              : \"This Spider Chart displays your previously submitted competency assessment.\"\n          );\n          setShowSubmissionMessage(true);\n        }\n      } catch (err) {\n        console.error(\"Fetch Error:\", err.response || err);\n        setError(err.response?.data?.message || \"Failed to load user data.\");\n        if (err.response?.status === 401) {\n          window.location.href = \"/login\";\n        }\n      }\n    };\n\n    fetchUserData();\n\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsDropdownOpen(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  const toggleDropdown = () => {\n    setIsDropdownOpen(!isDropdownOpen);\n  };\n\n  const handleSubmission = (newScores) => {\n    setShowSubmissionMessage(true);\n    setSubmissionMessage(\"✅ Assessment submitted successfully!\");\n\n    setDbScores({\n      currentScores: newScores.currentScores,\n      projectedScores: newScores.projectedScores,\n    });\n\n    setIsLoadingChart(true);\n    setTimeout(() => {\n      setIsLoadingChart(false);\n      setShowForm(false);\n    }, 5500);\n  };\n\n  const toggleViewMode = (mode) => {\n    if (viewMode !== mode) {\n      setViewMode(mode);\n      if (mode === \"supervisor\" && !dbScores?.supervisorScores) {\n        setSubmissionMessage(\n          \"⏳ Your assessment is still under review by your supervisor.\"\n        );\n      } else if (mode === \"supervisor\") {\n        setSubmissionMessage(\"🎉 Supervisor’s assessment available!\");\n      } else {\n        setSubmissionMessage(\"📊 Viewing your submitted assessment.\");\n      }\n      setShowSubmissionMessage(true);\n    }\n  };\n\n  const handleCommitToggle = async () => {\n    try {\n      const submissionId = user.submissions[0]._id;\n      const newCommitted = !committed;\n      await axios.post(\n        `http://localhost:4000/scores/${submissionId}/commit`,\n        { committed: newCommitted },\n        { withCredentials: true }\n      );\n      setCommitted(newCommitted);\n      setSubmissionMessage(\n        newCommitted\n          ? \"✅ You’re on your way! Your supervisor has been notified.\"\n          : \"You’ve uncommitted from the feedback.\"\n      );\n      setShowSubmissionMessage(true);\n    } catch (err) {\n      console.error(\"Commit Error:\", err);\n      setSubmissionMessage(\"❌ Failed to update commitment status.\");\n      setShowSubmissionMessage(true);\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await axios.post(\n        \"http://localhost:4000/api/auth/logout\",\n        {},\n        { withCredentials: true }\n      );\n      window.location.href = \"/login\";\n    } catch (err) {\n      console.error(\"Logout failed:\", err);\n    }\n  };\n\n  if (error) {\n    return <div className=\"error-message\">{error}</div>;\n  }\n\n  if (!user) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\">\n          <div className=\"spinner-sector spinner-sector-primary\"></div>\n          <div className=\"spinner-sector spinner-sector-secondary\"></div>\n          <div className=\"spinner-sector spinner-sector-tertiary\"></div>\n        </div>\n        <div className=\"loading-content\">\n          <img src={LOGO} alt=\"NOCK Logo\" className=\"loading-logo\" />\n          <h2 className=\"loading-text\">Loading Your Data...</h2>\n          <p className=\"loading-subtext\">Please wait while we prepare</p>\n        </div>\n      </div>\n    );\n  }\n\n  const nameParts = user.name.split(\" \");\n  const initials =\n    nameParts.length >= 2\n      ? `${nameParts[0][0]}${nameParts[nameParts.length - 1][0]}`\n      : nameParts[0][0];\n\n  return (\n    <div className=\"modern-chart-container\">\n      <header className=\"modern-header\">\n        <div className=\"modern-logo\">\n          <div className=\"logo-placeholder\">\n            <img className=\"logo-icon\" src={LOGO} alt=\"logo\" />\n            <span className=\"logo-text\">Energizing Kenya</span>\n          </div>\n        </div>\n        <div className=\"modern-profile\" ref={dropdownRef}>\n          <div className=\"profile-container\" onClick={toggleDropdown}>\n            <div className=\"profile-avatar\">{initials}</div>\n            <div className=\"profile-info\">\n              <h3>{user.name}</h3>\n              <p>{user.occupation}</p>\n            </div>\n            <div className={`dropdown-arrow ${isDropdownOpen ? \"open\" : \"\"}`}>\n              ▼\n            </div>\n          </div>\n          <div className={`dropdown-menu ${isDropdownOpen ? \"open\" : \"\"}`}>\n            <div\n              className={`dropdown-item toggle-btn ${\n                viewMode === \"supervisor\" ? \"active disabled\" : \"\"\n              }`}\n              onClick={() => toggleViewMode(\"supervisor\")}\n            >\n              View Supervisor Assessment\n            </div>\n            <div\n              className={`dropdown-item toggle-btn ${\n                viewMode === \"chart\" ? \"active disabled\" : \"\"\n              }`}\n              onClick={() => toggleViewMode(\"chart\")}\n            >\n              View My Assessment\n            </div>\n            <div className=\"dropdown-divider\"></div>\n            <Link\n              to=\"/logout\"\n              onClick={handleLogout}\n              className=\"dropdown-item logout\"\n            >\n              Log Out\n            </Link>\n          </div>\n        </div>\n      </header>\n      <div className=\"modern-title-container\">\n        <h2 className=\"modern-title\">Upstream Competency Mapping</h2>\n        <div className=\"title-decoration\"></div>\n      </div>\n      <div className=\"modern-guidelines-button\">\n        <button\n          onClick={() => setShowPopup(true)}\n          className=\"modern-button guidelines-btn\"\n        >\n          Open Competency Guidelines <span className=\"button-icon\">📊</span>\n        </button>\n        {showPopup && <Guidelines onClose={() => setShowPopup(false)} />}\n      </div>\n      <div className=\"content-container\">\n        <div className=\"content\">\n          {showSubmissionMessage && (\n            <div\n              className={`submission-notification ${\n                !showSubmissionMessage ? \"hide\" : \"\"\n              }`}\n            >\n              <div className=\"notification-content\">\n                <p>{submissionMessage}</p>\n                <button\n                  className=\"close-notification\"\n                  onClick={() => setShowSubmissionMessage(false)}\n                >\n                  ×\n                </button>\n              </div>\n            </div>\n          )}\n          {isLoadingChart ? (\n            <div className=\"chart-loading-container\">\n              <div className=\"chart-loading-spinner\">\n                <div className=\"spinner-circle\"></div>\n              </div>\n              <div className=\"chart-loading-content\">\n                <h3 className=\"chart-loading-text\">Generating Your Chart...</h3>\n                <p className=\"chart-loading-subtext\">Please wait a moment</p>\n              </div>\n            </div>\n          ) : showForm ? (\n            <ScoreFormManager\n              categories={categories}\n              onScoresChange={handleSubmission}\n              initialScores={dbScores}\n            />\n          ) : (\n            <div className=\"chart-wrapper\">\n              {viewMode === \"supervisor\" && dbScores?.supervisorScores ? (\n                <SupervisorSpiderChart\n                  categories={categories}\n                  currentScores={dbScores.currentScores}\n                  projectedScores={dbScores.projectedScores}\n                  supervisorScores={dbScores.supervisorScores}\n                  status={dbScores.status}\n                  approvalComments={dbScores.comments}\n                  approvedBy={dbScores.approvedBy}\n                  approvedAt={dbScores.approvedAt}\n                  committed={committed}\n                  onCommitToggle={handleCommitToggle}\n                />\n              ) : viewMode === \"supervisor\" ? (\n                <p className=\"no-review-message\">\n                  ⏳ Your assessment is still under review by your supervisor.\n                </p>\n              ) : dbScores ? (\n                <SpiderChart\n                  currentScores={dbScores.currentScores}\n                  projectedScores={dbScores.projectedScores}\n                  categories={categories}\n                />\n              ) : (\n                <p>No scores available to display.</p>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}